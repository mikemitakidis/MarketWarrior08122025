<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 1: Introduction to Trading - Market Warrior</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: #f8fafc; min-height: 100vh; user-select: none; }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
        }
        .header .logo { display: flex; align-items: center; gap: 12px; }
        .header .logo img { height: 40px; border-radius: 8px; }
        .header a { color: white; text-decoration: none; }
        .container { max-width: 900px; margin: 0 auto; padding: 30px; }
        .day-header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .day-badge {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            display: inline-block;
            font-weight: 600;
            margin-bottom: 15px;
        }
        .day-header h1 { color: #1e293b; margin-bottom: 10px; }
        .day-header p { color: #64748b; }
        .content {
            background: white;
            padding: 40px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .content h2 { color: #667eea; margin: 30px 0 15px; }
        .content h2:first-child { margin-top: 0; }
        .content p { color: #475569; margin-bottom: 15px; line-height: 1.8; }
        .content ul { margin: 15px 0 15px 25px; color: #475569; }
        .content li { margin-bottom: 10px; }
        .warning-box {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .warning-box strong { color: #92400e; }
        .warning-box p { color: #78350f; margin: 0; }
        .quiz-section {
            background: #d1fae5;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        .quiz-section h2 { color: #059669; margin-bottom: 20px; }
        .quiz-question {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        .quiz-question p { font-weight: 600; color: #1e293b; margin-bottom: 15px; }
        .quiz-option { display: block; padding: 12px 15px; margin: 8px 0; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; }
        .quiz-option:hover { border-color: #667eea; background: #f8fafc; }
        .quiz-option.selected { border-color: #667eea; background: #eef2ff; }
        .quiz-option.correct { border-color: #10b981; background: #d1fae5; }
        .quiz-option.wrong { border-color: #ef4444; background: #fee2e2; }
        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 14px 30px;
            border: none;
            border-radius: 25px;
            font-weight: 700;
            cursor: pointer;
            font-size: 1em;
        }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn-green { background: #10b981; }
        .task-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        .task-section h2 { color: #667eea; margin-bottom: 15px; }
        .task-section textarea {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-family: inherit;
            margin-bottom: 15px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            gap: 15px;
        }
        .nav-btn {
            padding: 14px 30px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
        }
        .nav-btn.back { background: #e2e8f0; color: #475569; }
        .nav-btn.next { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        .nav-btn.disabled { opacity: 0.5; pointer-events: none; }
        #quizResult { padding: 15px; border-radius: 10px; margin-top: 15px; display: none; font-weight: 600; text-align: center; }
        #quizResult.pass { background: #d1fae5; color: #059669; display: block; }
        #quizResult.fail { background: #fee2e2; color: #dc2626; display: block; }
    </style>
</head>
<body oncontextmenu="return false;">
    <header class="header">
        <div class="logo">
            <img src="/assets/logo.png" alt="Market Warrior">
            <span style="font-weight: 700;">Market Warrior</span>
        </div>
        <a href="/pages/dashboard.html">‚Üê Back to Dashboard</a>
    </header>

    <div class="container">
        <div class="day-header">
            <span class="day-badge">Day 1 of 30</span>
            <h1>Introduction to Trading</h1>
            <p>Welcome to your trading journey! Today you'll learn the fundamentals of what trading is and why it matters.</p>
        </div>

        <div class="content">
            <h2>What is Trading?</h2>
            <p>Trading is the buying and selling of financial instruments like stocks, currencies, commodities, or cryptocurrencies with the goal of making a profit. Unlike traditional investing (which focuses on long-term growth), trading typically involves shorter time frames and more active decision-making.</p>

            <h2>Types of Trading</h2>
            <ul>
                <li><strong>Day Trading:</strong> Buying and selling within the same day. Positions are never held overnight.</li>
                <li><strong>Swing Trading:</strong> Holding positions for days to weeks to capture price "swings."</li>
                <li><strong>Position Trading:</strong> Holding for weeks to months, based on longer-term trends.</li>
                <li><strong>Scalping:</strong> Making many quick trades for small profits, often lasting just minutes.</li>
            </ul>

            <h2>Financial Markets Overview</h2>
            <ul>
                <li><strong>Stock Market:</strong> Buy shares of companies (Apple, Tesla, etc.)</li>
                <li><strong>Forex (Foreign Exchange):</strong> Trade currency pairs (EUR/USD, GBP/JPY)</li>
                <li><strong>Commodities:</strong> Trade gold, oil, agricultural products</li>
                <li><strong>Cryptocurrency:</strong> Trade digital currencies (Bitcoin, Ethereum)</li>
                <li><strong>Indices:</strong> Trade baskets of stocks (S&P 500, NASDAQ)</li>
            </ul>

            <div class="warning-box">
                <strong>‚ö†Ô∏è Important Risk Warning</strong>
                <p>70-90% of retail traders lose money. Trading is NOT a get-rich-quick scheme. This course teaches you skills, but success requires practice, discipline, and risk management. NEVER trade with money you can't afford to lose.</p>
            </div>

            <h2>Your 30-Day Journey</h2>
            <p>Over the next 30 days, you'll learn:</p>
            <ul>
                <li>Days 1-7: Foundation (terminology, charts, demo accounts)</li>
                <li>Days 8-14: Technical Analysis (patterns, indicators)</li>
                <li>Days 15-21: Strategy & Risk Management</li>
                <li>Days 22-28: Advanced Topics</li>
                <li>Days 29-30: Review & Certification</li>
            </ul>
        </div>

        <div class="quiz-section">
            <h2>üìù Day 1 Quiz</h2>
            <p style="color: #065f46; margin-bottom: 20px;">Score at least 60% to unlock Day 2</p>

            <div class="quiz-question" data-question="1" data-answer="b">
                <p>1. What is day trading?</p>
                <label class="quiz-option"><input type="radio" name="q1" value="a"> Buying and holding for years</label>
                <label class="quiz-option"><input type="radio" name="q1" value="b"> Buying and selling within the same day</label>
                <label class="quiz-option"><input type="radio" name="q1" value="c"> Only trading on weekdays</label>
                <label class="quiz-option"><input type="radio" name="q1" value="d"> Trading for exactly 24 hours</label>
            </div>

            <div class="quiz-question" data-question="2" data-answer="c">
                <p>2. What percentage of retail traders typically lose money?</p>
                <label class="quiz-option"><input type="radio" name="q2" value="a"> 10-20%</label>
                <label class="quiz-option"><input type="radio" name="q2" value="b"> 40-50%</label>
                <label class="quiz-option"><input type="radio" name="q2" value="c"> 70-90%</label>
                <label class="quiz-option"><input type="radio" name="q2" value="d"> 95-100%</label>
            </div>

            <div class="quiz-question" data-question="3" data-answer="a">
                <p>3. Which market allows you to trade currency pairs like EUR/USD?</p>
                <label class="quiz-option"><input type="radio" name="q3" value="a"> Forex</label>
                <label class="quiz-option"><input type="radio" name="q3" value="b"> Stock Market</label>
                <label class="quiz-option"><input type="radio" name="q3" value="c"> Commodities</label>
                <label class="quiz-option"><input type="radio" name="q3" value="d"> Real Estate</label>
            </div>

            <div class="quiz-question" data-question="4" data-answer="d">
                <p>4. What type of trading involves holding positions for days to weeks?</p>
                <label class="quiz-option"><input type="radio" name="q4" value="a"> Scalping</label>
                <label class="quiz-option"><input type="radio" name="q4" value="b"> Day Trading</label>
                <label class="quiz-option"><input type="radio" name="q4" value="c"> Position Trading</label>
                <label class="quiz-option"><input type="radio" name="q4" value="d"> Swing Trading</label>
            </div>

            <div class="quiz-question" data-question="5" data-answer="b">
                <p>5. Should you trade with money you can't afford to lose?</p>
                <label class="quiz-option"><input type="radio" name="q5" value="a"> Yes, high risk = high reward</label>
                <label class="quiz-option"><input type="radio" name="q5" value="b"> No, never</label>
                <label class="quiz-option"><input type="radio" name="q5" value="c"> Only if you're confident</label>
                <label class="quiz-option"><input type="radio" name="q5" value="d"> Only on weekends</label>
            </div>

            <button class="btn" id="submitQuiz" onclick="submitQuiz()">Submit Quiz</button>
            <div id="quizResult"></div>
        </div>

        <div class="task-section">
            <h2>üìã Today's Task</h2>
            <p>Write a short reflection (3-5 sentences) answering: Why do you want to learn trading? What type of trading interests you most?</p>
            <textarea id="taskAnswer" placeholder="Type your answer here..."></textarea>
            <button class="btn" onclick="saveTask()">Save Task</button>
        </div>

        <div class="navigation">
            <a href="/pages/dashboard.html" class="nav-btn back">‚Üê Dashboard</a>
            <a href="/pages/course/day2.html" class="nav-btn next disabled" id="nextBtn">Day 2 ‚Üí</a>
        </div>
    </div>

    <script>
        const token = localStorage.getItem('token');
        if (!token) window.location.href = '/pages/auth/login.html';

        let quizPassed = false;

        // Add click listeners to options
        document.querySelectorAll('.quiz-option').forEach(option => {
            option.addEventListener('click', function() {
                const name = this.querySelector('input').name;
                document.querySelectorAll(`[name="${name}"]`).forEach(r => r.closest('.quiz-option').classList.remove('selected'));
                this.classList.add('selected');
                this.querySelector('input').checked = true;
            });
        });

        async function submitQuiz() {
            const answers = { q1: 'b', q2: 'c', q3: 'a', q4: 'd', q5: 'b' };
            let correct = 0;
            let total = 5;

            for (let i = 1; i <= 5; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                const options = document.querySelectorAll(`input[name="q${i}"]`);
                
                options.forEach(opt => {
                    opt.closest('.quiz-option').classList.remove('correct', 'wrong');
                    if (opt.value === answers[`q${i}`]) {
                        opt.closest('.quiz-option').classList.add('correct');
                    }
                });

                if (selected) {
                    if (selected.value === answers[`q${i}`]) {
                        correct++;
                    } else {
                        selected.closest('.quiz-option').classList.add('wrong');
                    }
                }
            }

            const score = Math.round((correct / total) * 100);
            const result = document.getElementById('quizResult');

            // Submit to API
            try {
                await fetch('/api?action=quiz', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer ' + token
                    },
                    body: JSON.stringify({ day: 1, score: score })
                });
            } catch (e) {
                console.error('Error submitting quiz:', e);
            }

            if (score >= 60) {
                result.textContent = `üéâ Congratulations! You scored ${score}% - Day 2 is now unlocked!`;
                result.className = 'pass';
                document.getElementById('nextBtn').classList.remove('disabled');
                quizPassed = true;
            } else {
                result.textContent = `You scored ${score}%. You need 60% to pass. Review the content and try again!`;
                result.className = 'fail';
            }

            document.getElementById('submitQuiz').disabled = true;
        }

        function saveTask() {
            const answer = document.getElementById('taskAnswer').value;
            if (answer.trim()) {
                localStorage.setItem('task_day1', answer);
                alert('Task saved!');
            }
        }

        // Load saved task
        const savedTask = localStorage.getItem('task_day1');
        if (savedTask) document.getElementById('taskAnswer').value = savedTask;
    </script>
</body>
</html>
